<mvc:View
    controllerName="tripjournal.tripjournalui.controller.Detail"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
>
    <Page
        id="detailPage"
        title="{i18n>detailPageTitle}"
        showNavButton="true"
        navButtonPress=".onNavBack"
    >
        <ObjectHeader
            id="detailObjectHeader"
            responsive="true"
            title="{LicensePlate}"
            number="{
                path: 'GasPrice',
                formatter: 'sap.ui.format.Number.getCurrencyInstance'
            }"
            numberUnit="{GasCurr}"
        >
            <attributes>
                <ObjectAttribute id="_IDGenObjectAttribute1" title="{i18n>colDate}" text="{= ${Yyear} + '. ' + ${Mmonth}}" />
                <ObjectAttribute id="_IDGenObjectAttribute2" title="{i18n>colKmBefore}" text="{KmBefore} km" />
                <ObjectAttribute id="_IDGenObjectAttribute3"
                    title="{i18n>colKmAfter}"
                    text="{
                        parts: ['KmBefore','to_TripItemSet'],
                        formatter: '.formatter.formatKmAfter'
                    } km"/>
                <ObjectAttribute id="_IDGenObjectAttribute4" title="{i18n>consumption}" text="{summary>/Gasmilage} l/100 km"/>
                <ObjectAttribute id="_IDGenObjectAttribute5" title="{i18n>totalCost}"  text="{summary>/TotalCost} {GasCurr}"/>
            </attributes>
        </ObjectHeader>
        <Table
            id="tripItemTable"
            items="{to_TripItemSet}"
            class="sapUiResponsiveMargin"
            mode="MultiSelect"
            selectionChange=".onItemSelectionChange"
            width="auto"
        >
            <headerToolbar>
                <Toolbar id="_IDGenToolbar2">
                <Title id="_IDGenTitle2" text="{i18n>itemsTitle}" level="H2"/>
                <ToolbarSpacer id="_IDGenToolbarSpacer2"/>
                <Button id="_IDGenButton" icon="sap-icon://add"    press=".onOpenCreateItemDialog"/>
                <Button id="editItemBtn"  icon="sap-icon://edit"  enabled="false"
                        press=".onOpenEditItemDialog"/>
                <Button id="delItemBtn"   icon="sap-icon://delete" type="Negative"
                        enabled="false" press=".onDeleteSelectedItems"/>
                </Toolbar>
            </headerToolbar>
            <columns>
                <Column id="_IDGenColumn7"><Text id="_IDGenText11" text="{i18n>itemColDate}" /></Column>
                <Column id="_IDGenColumn8" minScreenWidth="Tablet" demandPopin="true"><Text id="_IDGenText12" text="{i18n>itemColFrom}" /></Column>
                <Column id="_IDGenColumn9" minScreenWidth="Tablet" demandPopin="true"><Text id="_IDGenText13" text="{i18n>itemColTo}" /></Column>
                <Column id="_IDGenColumn10" hAlign="End"><Text id="_IDGenText14" text="{i18n>itemColDistance}" /></Column>
                <Column id="_IDGenColumn11" hAlign="End"><Text id="_IDGenText15" text="{i18n>itemColCost}" /></Column>
                <Column id="_IDGenColumn12" hAlign="End"><Text id="_IDGenText19" text="{i18n>itemColNote}" /></Column>
            </columns>
            <items>
                <ColumnListItem id="_IDGenColumnListItem1">
                    <cells>
                        <Text id="_IDGenText16" text="{
                            path: 'Ddate',
                            type: 'sap.ui.model.type.Date'
                        }" />
                        <Text id="_IDGenText18" text="{
                            path: 'FromAddr',
                            type: 'sap.ui.model.type.Integer'
                        }"/>
                        <Text id="_IDGenText21" text="{
                            path: 'ToAddr',
                            type: 'sap.ui.model.type.Integer'
                        }"/>
                        <ObjectNumber id="_IDGenObjectNumber2" number="{Distance}" unit="km" />
                         <ObjectNumber id="_IDGenObjectNumber3"
                            number="{
                                path: 'Cost',
                                formatter: 'sap.ui.format.Number.getCurrencyInstance'
                            }"
                            unit="{Currency}"
                        />
                        <Text id="_IDGenText20" text="{Note}" />
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </Page>
</mvc:View>